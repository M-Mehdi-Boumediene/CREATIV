!function(e,t){"use strict";var o=function(){t.hooks.addAction("frontend/element_ready/metform.default",function(t){if(void 0!==window.parent.jQuery){var o=t.find(".formpicker_warper_edit");if(o.off("click.metform").on("click.metform",function(){var t=window.parent.jQuery("#metform-open-content-editor"),n=o.attr("data-metform-formpicker-key"),r=e(this).attr("data-nonce");t.find(".metform-error").remove(),t.find(".metform-content-editor-radio").on("click",function(o){var n=e(this).closest("li").data("target");t.find("#"+n).fadeIn().siblings().hide()}),t.find(".metform-content-editor-radio").last().trigger("click"),e.ajax({url:e(this).attr("resturl")+(n||0),type:"get",headers:{"X-WP-Nonce":r},dataType:"html",success:function(e){e?t.find(".metform-open-content-editor-templates").html(e):(t.find(".metform-content-editor-radio").last().trigger("click"),t.find(".metform-open-content-editor-templates").parent().append("<p class='metform-error'>No forms were created yet!</p>"))}}),t.show()}),window.parent.jQuery("#metform-open-content-editor").off("click.metform").on("click.metform",".metform-open-content-editor-button",function(){var t=window.parent.jQuery(".metform-dynamic-content-modal"),o=t.find("#formpicker-control-iframe"),n=t.find(".dialog-lightbox-loading"),r=t.find(".dialog-type-lightbox"),i=e(this).parents(".metform-open-content-inner"),d=i.find(".metform-open-content-editor-templates").val(),a=i.find(".metform-content-editor-radio:checked").val(),m=i.find(".metform-template-radio:checked").val(),f=i.find(".metform-template-input-con input").val(),c=window.parent.jQuery("#metform-form-modalinput-settings").data("nonce");"saved"==a?window.parent.jQuery("body").attr("data-metform-template-key",d):e.ajax({url:e(this).attr("resturl")+"builder_form_id/"+m+"?title="+f,type:"GET",headers:{"X-WP-Nonce":c},success:function(e){window.parent.jQuery("body").attr("data-metform-template-key",e),i.find(".metform-template-input-con input").val(""),i.find(".metform-template-radio").removeAttr("checked").first().attr("checked","checked"),d=e},async:!1});var l=e(this).attr("resturl")+"builder/"+d;window.parent.jQuery("body").attr("data-metform-template-load","false"),r.show(),t.show(),n.show(),o.contents().find("#elementor-loading").show(),o.css("z-index","-1"),o.attr("src",l),o.on("load",function(){n.hide(),o.show(),o.contents().find("#elementor-loading").hide(),o.css("z-index","1")})}),window.parent.jQuery("#elementor-editor-wrapper").on("click","#metform-inspactor-edit-button",function(){console.log("dom found")}),void 0!==window.parent.jQuery)window.parent.jQuery(".metform-close-editor-modals").off("click.metform").on("click.metform",function(){if(e(this).hasClass("metform-editor-close")){var t=window.parent.jQuery(".metform-dynamic-content-modal").find("#formpicker-control-iframe"),o=t[0].contentWindow||t[0].contentDocument;o.jQuery("#elementor-panel-saver-button-publish").hasClass("elementor-disabled")?n(window.parent):confirm("Leaving? Changes you made may not be saved.")?(o.jQuery(o).off("beforeunload"),n(window.parent)):o.jQuery(o).off("beforeunload")}else if(e(this).hasClass("metform-picker-close")){n(window.parent);var r=window.parent.jQuery("#metform-open-content-editor"),i=r.find(".metform-content-editor-radio:checked").val(),d=r.find(".metform-open-content-editor-templates").val();"saved"==i&&window.parent.jQuery("body").attr("data-metform-template-key",d),n(window.parent)}else n(window.parent);window.parent.jQuery("#metform-open-content-editor").find(".metform-picker-close").hide(),window.parent.jQuery("#metform-open-content-editor").find(".metform-template-radio").removeAttr("checked").first().attr("checked","checked")});window.parent.jQuery("#metform-open-content-editor").find(".metform-open-content-editor-templates").on("change",function(){window.parent.jQuery("#metform-open-content-editor").find(".metform-picker-close").fadeIn()})}function n(e){e.jQuery("body").attr("data-metform-template-load","true"),e.jQuery(".metform-dynamic-content-modal").hide(),e.jQuery("#metform-open-content-editor").hide()}})};e(window).on("elementor/frontend/init",o)}(jQuery,window.elementorFrontend);